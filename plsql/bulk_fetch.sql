-- bulk로 데이터를 가지고 오는 방법

DECLARE
	TYPE empcurtyp IS REF CURSOR;
	TYPE namelist IS TABLE OF employees.last_name%TYPE;
	TYPE sallist IS TABLE OF employees.salary%TYPE;
	emp_cv empcurtyp;
	names namelist;
	sals sallist;
BEGIN
	OPEN emp_cv FOR
		SELECT last_name, salary FROM employees
		WHERE job_id = 'SA_REP'
		ORDER BY salary DESC;

	FETCH emp_cv BULK COLLECT INTO names, sals;
	CLOSE emp_cv;

	-- loop through the names and sals collections
	FOR i IN names.FIRST .. names.LAST
	LOOP
		DBMS_OUTPUT.PUT_LINE
		('Name = ' || names(i) || ', salary = ' || sals(i));
	END LOOP;
END;
/